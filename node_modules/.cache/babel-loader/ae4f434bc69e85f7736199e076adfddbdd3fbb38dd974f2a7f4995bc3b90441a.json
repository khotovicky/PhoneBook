{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { excludeObjectElement } from \"../utils/deleteObjectElement\";\nexport function usePhoneBook() {\n  _s();\n  const [phoneBook, setPhoneBook] = useState({});\n  function getNumber(name) {\n    if (!name) {\n      return 'invalid';\n    }\n    if (!phoneBook[name]) {\n      return 'Этого имени нет';\n    }\n    return phoneBook[name];\n  }\n  function setNumber(name, number) {\n    if (!name || !number) {\n      return 'invalid';\n    }\n    let isThisName;\n    let hasSameNumber;\n    if (phoneBook[name] !== undefined) {\n      isThisName = true;\n      if (phoneBook[name] === number) {\n        hasSameNumber = true;\n      }\n    }\n    setPhoneBook({\n      ...phoneBook,\n      [name]: number\n    });\n    if (isThisName === true) {\n      return hasSameNumber ? 'Такой номер уже есть' : 'Номер изменен';\n    }\n    return 'Имя добавлено';\n  }\n  function deleteNumber(name) {\n    if (!name) {\n      return 'invalid';\n    }\n    if (!phoneBook[name]) {\n      return 'Этого имени нет';\n    }\n    setPhoneBook(excludeObjectElement(phoneBook, name));\n    return \"Имя удалено\";\n  }\n  return {\n    getNumber,\n    setNumber,\n    deleteNumber,\n    phoneBook\n  };\n}\n_s(usePhoneBook, \"kbJrUNW+iw/jOq2hxOU+Z/rsbcM=\");\nexport function handleCommand(command, phoneBook) {\n  if (command === null) {\n    return \"Invalid\";\n  }\n  const tokens = command.split(\" \");\n  const op = tokens[0];\n  if (op === 'get') {\n    return phoneBook.getNumber(tokens[1]);\n  } else if (op === 'set') {\n    return phoneBook.setNumber(tokens[1], tokens[2]);\n  } else if (op === 'delete') {\n    return phoneBook.deleteNumber(tokens[1]);\n  } else {\n    return \"Invalid\";\n  }\n}","map":{"version":3,"names":["useState","excludeObjectElement","usePhoneBook","_s","phoneBook","setPhoneBook","getNumber","name","setNumber","number","isThisName","hasSameNumber","undefined","deleteNumber","handleCommand","command","tokens","split","op"],"sources":["/home/aleksander/Desktop/it/PhoneBook/phone-book/src/hooks/phoneBook.js"],"sourcesContent":["import { useState } from \"react\"\nimport { excludeObjectElement } from \"../utils/deleteObjectElement\"\nexport function usePhoneBook() {\n    const [phoneBook, setPhoneBook] = useState({}) \n\n    function getNumber(name) {\n        if (!name) {\n            return 'invalid'\n        }\n        if (!phoneBook[name]) {\n            return 'Этого имени нет'\n        }\n        return phoneBook[name]\n    }\n    \n    function setNumber(name, number) {\n        if (!name || !number) {\n            return 'invalid'\n        }\n        let isThisName\n        let hasSameNumber\n        if (phoneBook[name] !== undefined) {\n            isThisName = true\n            if (phoneBook[name] === number) {\n                hasSameNumber = true\n            }\n        }\n        setPhoneBook({\n            ...phoneBook,\n            [name]: number\n        })\n        if (isThisName === true) {\n            return hasSameNumber ? 'Такой номер уже есть' : 'Номер изменен'\n        }\n        return 'Имя добавлено'\n    }\n    \n    function deleteNumber(name) {\n        if (!name) {\n            return 'invalid'\n        }\n        if (!phoneBook[name]) {\n            return 'Этого имени нет'\n        }\n        setPhoneBook(excludeObjectElement(phoneBook, name))\n        return \"Имя удалено\"\n    }\n    return {\n        getNumber,\n        setNumber,\n        deleteNumber,\n        phoneBook\n    }\n}\n\nexport function handleCommand(command, phoneBook) {\n    if (command === null) {\n        return \"Invalid\"\n    }\n    const tokens = command.split(\" \")\n    const op = tokens[0]\n    if (op === 'get') {\n        return phoneBook.getNumber(tokens[1]) \n    } else if (op === 'set') {\n        return phoneBook.setNumber(tokens[1], tokens[2])\n    } else if (op === 'delete'){\n        return phoneBook.deleteNumber(tokens[1])\n    } else {\n        return \"Invalid\"\n    }\n}\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,oBAAoB,QAAQ,8BAA8B;AACnE,OAAO,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EAC3B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGL,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE9C,SAASM,SAASA,CAACC,IAAI,EAAE;IACrB,IAAI,CAACA,IAAI,EAAE;MACP,OAAO,SAAS;IACpB;IACA,IAAI,CAACH,SAAS,CAACG,IAAI,CAAC,EAAE;MAClB,OAAO,iBAAiB;IAC5B;IACA,OAAOH,SAAS,CAACG,IAAI,CAAC;EAC1B;EAEA,SAASC,SAASA,CAACD,IAAI,EAAEE,MAAM,EAAE;IAC7B,IAAI,CAACF,IAAI,IAAI,CAACE,MAAM,EAAE;MAClB,OAAO,SAAS;IACpB;IACA,IAAIC,UAAU;IACd,IAAIC,aAAa;IACjB,IAAIP,SAAS,CAACG,IAAI,CAAC,KAAKK,SAAS,EAAE;MAC/BF,UAAU,GAAG,IAAI;MACjB,IAAIN,SAAS,CAACG,IAAI,CAAC,KAAKE,MAAM,EAAE;QAC5BE,aAAa,GAAG,IAAI;MACxB;IACJ;IACAN,YAAY,CAAC;MACT,GAAGD,SAAS;MACZ,CAACG,IAAI,GAAGE;IACZ,CAAC,CAAC;IACF,IAAIC,UAAU,KAAK,IAAI,EAAE;MACrB,OAAOC,aAAa,GAAG,sBAAsB,GAAG,eAAe;IACnE;IACA,OAAO,eAAe;EAC1B;EAEA,SAASE,YAAYA,CAACN,IAAI,EAAE;IACxB,IAAI,CAACA,IAAI,EAAE;MACP,OAAO,SAAS;IACpB;IACA,IAAI,CAACH,SAAS,CAACG,IAAI,CAAC,EAAE;MAClB,OAAO,iBAAiB;IAC5B;IACAF,YAAY,CAACJ,oBAAoB,CAACG,SAAS,EAAEG,IAAI,CAAC,CAAC;IACnD,OAAO,aAAa;EACxB;EACA,OAAO;IACHD,SAAS;IACTE,SAAS;IACTK,YAAY;IACZT;EACJ,CAAC;AACL;AAACD,EAAA,CAnDeD,YAAY;AAqD5B,OAAO,SAASY,aAAaA,CAACC,OAAO,EAAEX,SAAS,EAAE;EAC9C,IAAIW,OAAO,KAAK,IAAI,EAAE;IAClB,OAAO,SAAS;EACpB;EACA,MAAMC,MAAM,GAAGD,OAAO,CAACE,KAAK,CAAC,GAAG,CAAC;EACjC,MAAMC,EAAE,GAAGF,MAAM,CAAC,CAAC,CAAC;EACpB,IAAIE,EAAE,KAAK,KAAK,EAAE;IACd,OAAOd,SAAS,CAACE,SAAS,CAACU,MAAM,CAAC,CAAC,CAAC,CAAC;EACzC,CAAC,MAAM,IAAIE,EAAE,KAAK,KAAK,EAAE;IACrB,OAAOd,SAAS,CAACI,SAAS,CAACQ,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC;EACpD,CAAC,MAAM,IAAIE,EAAE,KAAK,QAAQ,EAAC;IACvB,OAAOd,SAAS,CAACS,YAAY,CAACG,MAAM,CAAC,CAAC,CAAC,CAAC;EAC5C,CAAC,MAAM;IACH,OAAO,SAAS;EACpB;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}